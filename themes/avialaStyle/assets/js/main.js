console.log('This site was generated by Hugo.');

// 移动菜单交互功能
document.addEventListener('DOMContentLoaded', function() {
    // 使用更通用的选择器来找到所有可能的触发按钮
    const openMenuBtns = document.querySelectorAll('#openMobileMenuBtn, .mobile-menu-trigger a');
    const closeMenuBtn = document.getElementById('closeMobileMenuBtn');
    const mobileMenuWrapper = document.getElementById('headerMobileMenu');
    
    console.log('Mobile menu elements:', {
        openMenuBtns: openMenuBtns.length,
        closeMenuBtn,
        mobileMenuWrapper
    });
    
    // 打开移动菜单
    function openMobileMenu() {
        if (mobileMenuWrapper) {
            console.log('Opening mobile menu');
            mobileMenuWrapper.style.display = 'block';
            // 添加一点延迟来确保显示动画效果
            setTimeout(() => {
                mobileMenuWrapper.classList.add('active');
            }, 10);
        }
    }
    
    // 关闭移动菜单
    function closeMobileMenu() {
        if (mobileMenuWrapper) {
            console.log('Closing mobile menu');
            mobileMenuWrapper.classList.remove('active');
            // 等待动画完成后隐藏元素
            setTimeout(() => {
                mobileMenuWrapper.style.display = 'none';
            }, 300); // 假设动画时长为300ms
        }
    }
    
    // 绑定所有触发按钮的事件监听器
    openMenuBtns.forEach(function(btn) {
        if (btn) {
            console.log('Binding open menu button:', btn);
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Open menu button clicked');
                openMobileMenu();
            });
        }
    });
    
    if (openMenuBtns.length === 0) {
        console.log('No open menu buttons found');
    }
    
    if (closeMenuBtn) {
        console.log('Binding close menu button');
        closeMenuBtn.addEventListener('click', function(e) {
            e.preventDefault();
            console.log('Close menu button clicked');
            closeMobileMenu();
        });
    } else {
        console.log('Close menu button not found');
    }
    
    // 点击菜单外部区域关闭菜单
    if (mobileMenuWrapper) {
        mobileMenuWrapper.addEventListener('click', function(e) {
            if (e.target === mobileMenuWrapper) {
                closeMobileMenu();
            }
        });
    }
    
    // ESC键关闭菜单
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && mobileMenuWrapper && mobileMenuWrapper.classList.contains('active')) {
            closeMobileMenu();
        }
    });
});
